<!DOCTYPE HTML>

<html lang="en">
	<head>
		<title>AUSIS</title>
		<link rel="shortcut icon" type="image/x-icon" href="logo.ico" />

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" href="assets/css/main.css" />

		<script src="https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.css" rel="stylesheet" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.1/Chart.min.js"></script>


<script src='https://npmcdn.com/@turf/turf@5.1.6/turf.min.js'></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script> -->

		<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>


  <!-- <script src="talkify.min.js"></script> -->


  <script src="https://code.responsivevoice.org/responsivevoice.js?key=vQA98UAN"></script>








  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
 
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/flaticon.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="alertifyjs/alertify.js" type="text/javascript"></script>

	<link href="alertifyjs/css/alertify.css" rel="stylesheet">
	<link href="alertifyjs/css/themes/default.css" rel="stylesheet">
	

<style>
    .marker {
        background-image: url('Pie1.png');
        background-size: cover;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        
        }
         
        .mapboxgl-popup {
        max-width: auto;
  
        line-height: 20px;
        
        
        }
  
  
  
        .mapboxgl-popup-close-button {
          display:none;
          }
          .mapboxgl-popup-content {
          font:300 10px/18px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
          padding:0;
          width:auto;
          }
    
          
          .mapboxgl-popup-content-wrapper {
          padding:1%;
          }
          .mapboxgl-popup-content h3 {
          background:#007bff;
          color:#fff;
          margin:0;
          
          display:block;
          padding:10px;
          font-size: 20px;
          border-radius:3px 3px 0 0;
          font: weight 700;
          margin-top:-15px;
          }
      
          .mapboxgl-popup-content h4 {
          margin:0;
          display:block;
          padding: 10px 10px 10px 10px;
          font-weight:400;
          }
      
          .mapboxgl-popup-content div {
          padding:10px;
          }
      
          .mapboxgl-container .leaflet-marker-icon {
          cursor:pointer;
          }
      
          .mapboxgl-popup-anchor-top > .mapboxgl-popup-content {
          margin-top: 15px;
          }
      
          .mapboxgl-popup-anchor-top > .mapboxgl-popup-tip {
          border-bottom-color: #91c949;
          }
</style>













  


  <script>
		"use strict";
		
		!function() {
		  var t = window.driftt = window.drift = window.driftt || [];
		  if (!t.init) {
			if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
			t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
			t.factory = function(e) {
			  return function() {
				var n = Array.prototype.slice.call(arguments);
				return n.unshift(e), t.push(n), t;
			  };
			}, t.methods.forEach(function(e) {
			  t[e] = t.factory(e);
			}), t.load = function(t) {
			  var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
			  o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
			  var i = document.getElementsByTagName("script")[0];
			  i.parentNode.insertBefore(o, i);
			};
		  }
		}();
		drift.SNIPPET_VERSION = '0.3.1';
		drift.load('5ti6ahfc4hry');
		</script>
  



	</head>
	<body class="subpage">

		<!-- Header -->
		<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
			<div class="container1">
					
					<a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="Smiley face" height="32" width="32">  <span> AUSIS</span></a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="fa fa-bars"></span> Menu
			  </button>
			  <div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
            <li class="nav-item active"><a href="index.html" class="nav-link">Home</a></li>
            <li class="nav-item"><a href="https://www.andhrauniversity.edu.in/about/au-profile" class="nav-link">AU Profile</a></li>
            <li class="nav-item"><a href="Department_locations.html" class="nav-link">Department Locations</a></li>
            <li class="nav-item"><a href="getdirections.html" class="nav-link">Get Directions</a></li>
            <li class="nav-item"><a href="Optimized_with_Directions.html" class="nav-link">Optimized Routes</a></li>
                <li class="nav-item"><a href="getnearbylocations.html" class="nav-link">NearBy Places</a></li>
            
            <li class="nav-item"><a href="attendance_map.html" class="nav-link">Attendance Map</a></li>
            <li class="nav-item"><a href="https://forms.gle/7nCk3rDwbfpa4Bgt5" class="nav-link">Swachh AU</a></li>
            <li class="nav-item"><a href="buildingrecognition.html" class="nav-link">Building Recognition</a></li>
    
				</ul>
			  </div>
			</div>
		  </nav>
	
	
		<!-- One -->
			<div id="One" class="wrapper style3">
				<div class="inner">
					
					<div class="align-center">	
                            <h2 class="animated jackInTheBox"  style="padding-top: 0%;font-size:20px ;color:#007bff;text-shadow: 0.5px 0.5px rgb(240, 236, 11)">AUSIS</h2>

							<h2 class="animated jackInTheBox"  style="padding-top: 0%;font-size:20px ;color:#007bff;text-shadow: 0.5px 0.5px rgb(240, 236, 11)">Statistical Representation of Monthly Attendance</h2>
											
										  </div>
					</div>
				</div>
		


<!-- Two -->
<div  class="wrapper style2" >
		<div id="map" class="inner">
			
			</div>
		</div>
	</div>



    <script>



        var ctx1;
        var data;
        var ctx2;
    
        mapboxgl.accessToken = 'pk.eyJ1IjoibmF2am90aGJuIiwiYSI6ImNrNTJhNmNpZTE1bDQzbnFyMWMxZXRkazYifQ.rnHOJ9lVdiKfrVYlZVzqMg';
        /** 
         * Add the map to the page
        */
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/navjothbn/ck8hg1f4f02kz1ioh92ffvpeq',
          center: [83.319903, 17.728981],
          pitch:80,
          bearing:-70, 
          zoom: 17,  
          scrollZoom: true
        });
    
        var geo = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32113,
                17.72683,
                ]
              },
              "properties": {
                "Department_Name": "Geo-Informatics",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var chem = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32179,
                17.72848
                ]
              },
              "properties": {
                "Department_Name": "Chemical Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var EEE = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.31850,
                17.72901
                ]
              },
              "properties": {
                "Department_Name": "EEE Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var ECE = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.31959,
                17.73018
                ]
              },
              "properties": {
                "Department_Name": "ECE Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var MARINE = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32010,
                17.73074
                ]
              },
              "properties": {
                "Department_Name": "Marine Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var METALLURGY = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.31780,
                17.73055
                ]
              },
              "properties": {
                "Department_Name": "Metallurgy Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        var CSE = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.31806,
                17.72986
                ]
              },
              "properties": {
                "Department_Name": "CSE Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
    
    
        var Mechanical = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.31918,
                17.72795
                ]
              },
              "properties": {
                "Department_Name": "Mechanical Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
    
        var Civil = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32005,
                17.72720
                ]
              },
              "properties": {
                "Department_Name": "Civil Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
    
    
    
        var Architecture = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32011,
                17.72641
                ]
              },
              "properties": {
                "Department_Name": "Civil Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
    
    
        var IST = {
          "type": "FeatureCollection",
          "features": [
            {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                83.32368,
              17.72894
                ]
              },
              "properties": {
                "Department_Name": "Instrumentation Department",
                "phone": "2022347336",
                "address": "1471 P St NW",
                
              }
            }
          ]
        };
    
        
    
    
    
        addMarkers1();
        addMarkers2();
        addMarkers3();
        addMarkers4();
        addMarkers5();
        addMarkers6();
        addMarkers7();
        addMarkers8();
        addMarkers9();
        addMarkers10();
        addMarkers11();
        // create DOM element for the marker
        function addMarkers1() {
          /* For each feature in the GeoJSON object above: */
          geo.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp1(marker);
    
            });
          });
        }
    
    
    
    
        function addMarkers2() {
          /* For each feature in the GeoJSON object above: */
          chem.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp2(marker);
    
            });
          });
        }
    
    
    
        function addMarkers3() {
          /* For each feature in the GeoJSON object above: */
          EEE.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp3(marker);
    
            });
          });
        }
    
        function addMarkers4() {
          /* For each feature in the GeoJSON object above: */
          ECE.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp4(marker);
    
            });
          });
        }
    
        function addMarkers5() {
          /* For each feature in the GeoJSON object above: */
          MARINE.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp5(marker);
    
            });
          });
        }
    
        function addMarkers6() {
          /* For each feature in the GeoJSON object above: */
          METALLURGY.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp6(marker);
    
            });
          });
        }
    
        function addMarkers7() {
          /* For each feature in the GeoJSON object above: */
          CSE.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp7(marker);
    
            });
          });
        }
    
    
        function addMarkers8() {
          /* For each feature in the GeoJSON object above: */
          Mechanical.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp8(marker);
    
            });
          });
        }
    
        function addMarkers9() {
          /* For each feature in the GeoJSON object above: */
          Civil.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp9(marker);
    
            });
          });
        }
    
    
    
        function addMarkers10() {
          /* For each feature in the GeoJSON object above: */
          Architecture.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp10(marker);
    
            });
          });
        }
    
    
    
        function addMarkers11() {
          /* For each feature in the GeoJSON object above: */
          IST.features.forEach(function(marker) {
            /* Create a div element for the marker. */
            var el = document.createElement('div');
            /* Assign a unique `id` to the marker. */
            el.id = "marker-" + marker.properties.id;
            /* Assign the `marker` class to each marker for styling. */
            el.className = 'marker';
            
            /**
             * Create a marker using the div element
             * defined above and add it to the map.
            **/
            new mapboxgl.Marker(el, { offset: [0, -23] })
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);
    
            /**
             * Listen to the element and when it is clicked, do three things:
             * 1. Fly to the point
             * 2. Close all other popups and display popup for clicked store
             * 3. Highlight listing in sidebar (and remove highlight for all other listings)
            **/
            el.addEventListener('click', function(e){
              /* Fly to the point */
              flyToStore(marker);
              /* Close all other popups and display popup for clicked store */
              createPopUp11(marker);
    
            });
          });
        }
    
    
        function flyToStore(currentFeature) {
          map.flyTo({
            center: currentFeature.geometry.coordinates,
            zoom: 19
          });
        }
    
    
        function createPopUp1(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("geo");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
    
    
          function createPopUp2(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("chem");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
    
    
    
          function createPopUp3(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("eee");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp4(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>' )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("ece");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp5(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("marine");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp6(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("metallurgy");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp7(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("cse");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp8(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("mech");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp9(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("civil");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp10(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>'  )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("architecture");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
              
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
          function createPopUp11(currentFeature) {
            var popUps = document.getElementsByClassName('mapboxgl-popup');
            if (popUps[0]) popUps[0].remove();
            var popup = new mapboxgl.Popup({closeOnClick: false})
              .setLngLat(currentFeature.geometry.coordinates)
              .setHTML('<center><h3 id="pop">'+currentFeature.properties.Department_Name+'</h3>'+'<label>Monthly Attendance %</label>' +
                '        <canvas id="mycanvas1" width="120" height="120"></canvas></center>' )
              .addTo(map);
    
    
              responsiveVoice.speak(document.getElementById("pop").textContent);
    
              ctx1 =$("#mycanvas1").get(0).getContext("2d");
    
    
              var database=firebase.database().ref().child("instrumentation");
              database.on("value",function(snapshot){
        
        
                var category1=snapshot.child('absents').val();
                var category2=snapshot.child('presents').val();
              
          
        
                data=[
                {
                    value:category2,
                    color:"red",
                    highlight:"yellow",
                    label:"presents"
                },
                {
                    value:category1,
                    color:"blue",
                    highlight:"yellow",
                    label:"absents"
                }
                
                ];
        
        
              // var ctx1=document.getElementById("mycanvas1").getContext("2d");
               
        
              var piechart1=new Chart(ctx1).Pie(data);
        
               
               
        
          
           
        });
    
    
          }
        
    
    
         
           
      </script>
    
    
    <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-storage.js"></script>
            <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-firestore.js"></script>
            <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-database.js"></script>
    <script>
    
    
        const firebaseConfig = {
          apiKey: "AIzaSyDBBWGfaoqjZI9t5F1PR4xoclojFJsiqp8",
          authDomain: "webgis-bb33b.firebaseapp.com",
          databaseURL: "https://webgis-bb33b.firebaseio.com",
          projectId: "webgis-bb33b",
          storageBucket: "webgis-bb33b.appspot.com",
          messagingSenderId: "326058066601",
           appId: "1:326058066601:web:6f8dd78b829519eee39fb8",
           measurementId: "G-RREE79W18P"
          };
          firebase.initializeApp(firebaseConfig);
          
          
          var database = firebase.database();
    
    </script>
    
    
    
     
     
   
    
    
    
    
    
	 
		

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>


			<script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/scrollax.min.js"></script>
 
  <script src="js/main.js"></script>
    

	</body>
</html>